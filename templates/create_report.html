{% extends "layout.html" %}
{% macro render_field(field) %}
	<dt> {{ field.label }}
	<dd> {{ field(**kwargs)|safe }}
	{% if field.errors %}
		<ul class=errors>
		{% for error in field.errors %}
			<li>{{ error }}</li>
		{% endfor %}
		</ul>
	{% endif %}
	</dd>
{% endmacro %}
{%  block body %}

<h2>EvE Regional Trading</h2>

{% if error %}<p class="error"><strong>Error:</strong></p> {{ error }}{% endif %}

<form method=post>
	<dl>
		{{ render_field(form.reportname) }}
		{{ render_field(form.first_system_id) }}
		{{ render_field(form.second_system_id) }}
		{{ render_field(form.items) }}
	</dl>
	<p><input type=submit value=Report>

</form>
{% if reports != None %}
	{% for report in reports %}
	<li><h2>{{ report.title }}</h2> {{ report.text|safe }}</li>
	{% endfor %}
{% else %}
<li><em>No reports have been created yet.</em></li>
</ul>
{% endif %}

{% endblock %}
